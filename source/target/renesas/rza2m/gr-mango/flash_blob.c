/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2015 ARM Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

static const uint32_t rza1xx_flash_prog_blob[] = {
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0xf3804671, 0x47088100, 0x47704668, 0x47704685, 0xe10f1000, 0xf102001f, 0xe1a0000d, 0xe121f001,
    0xf57ff06f, 0xe12fff1e, 0xe10f1000, 0xf102001f, 0xe1a0d000, 0xe121f001, 0xf57ff06f, 0xe12fff1e,
    0xee111f50, 0xe381160f, 0xee011f50, 0xf57ff06f, 0xeef81a10, 0xe3811101, 0xeee81a10, 0xe3a02000,
    0xec422b10, 0xec422b11, 0xec422b12, 0xec422b13, 0xec422b14, 0xec422b15, 0xec422b16, 0xec422b17,
    0xec422b18, 0xec422b19, 0xec422b1a, 0xec422b1b, 0xec422b1c, 0xec422b1d, 0xec422b1e, 0xec422b1f,
    0xeef11a10, 0xe59f2008, 0xe0011002, 0xeee11a10, 0xe12fff1e, 0x00086060, 0xf10c00c0, 0xee110f10,
    0xe3c00a01, 0xe3c00004, 0xe3c00001, 0xe3c00b02, 0xe3c00a02, 0xee010f10, 0xf57ff06f, 0xee110f30,
    0xe3800002, 0xe3c00004, 0xee010f30, 0xe12fff1e, 0x4770ba40, 0x4770bac0, 0x2400b570, 0x6004b2d6,
    0xf3c10e0d, 0x2c042407, 0x2c02d026, 0x2c03d003, 0xb134d003, 0x2404e020, 0xf44fe001, 0x60045400,
    0xf44fe01a, 0x60044480, 0x2d01b17d, 0x2d02d004, 0x2d03d005, 0xe005d109, 0x0404f244, 0xf244e004,
    0xe0010408, 0x040cf244, 0xb12e6004, 0xd0242e01, 0xd01f2e02, 0xd0202e03, 0xf3c26804, 0xf0244500,
    0xea440410, 0xf3c11405, 0xf4244103, 0xea4474f0, 0xf3c21441, 0xf4242100, 0xea447400, 0x21002641,
    0x4507f3c3, 0x2407f3c3, 0x60062d01, 0x2d02d008, 0xe014d00e, 0x5400f444, 0xf444e7c1, 0xe7be5480,
    0x2c01b114, 0xe00ad002, 0xe0082101, 0xe0062103, 0x2c02b114, 0xe002d002, 0xe0002105, 0xf4262107,
    0xf001440c, 0xf0010503, 0xf3c20104, 0xea446200, 0xea442485, 0xf3c33441, 0xf4246100, 0xea443480,
    0xf4214101, 0xea413100, 0xf0034142, 0xf4210201, 0xea412100, 0xf02141c2, 0xf0410103, 0x60010102,
    0xbd702000, 0x68134afe, 0x03fff023, 0x60133372, 0x68906050, 0x5080f020, 0x68906090, 0x6000f040,
    0x68906090, 0x60e0f020, 0x6080f100, 0x68906090, 0x0000f420, 0x68906090, 0x00e0f420, 0x1080f500,
    0x68906090, 0x2000f420, 0x68906090, 0x407ff420, 0x68906090, 0x00fff020, 0x60901c40, 0x477065d1,
    0x680148e7, 0x01fff021, 0x60011d89, 0xf0216881, 0x60815180, 0xf0416881, 0x60816100, 0xf0216881,
    0x608161e0, 0xf4216881, 0x60810100, 0xf4216881, 0xf50101e0, 0x60811180, 0xf4216881, 0x60812100,
    0xf4216881, 0x6081417f, 0xf0216881, 0x608101ff, 0x65812100, 0xe92d4770, 0xf8df4df0, 0xb0888348,
    0xeefaf7ff, 0x210f48d0, 0x78007001, 0x0000f88d, 0x0000f89d, 0x680148cd, 0x0101f041, 0x68006001,
    0x0112f241, 0x48ca9000, 0x49c78201, 0x780a3130, 0x0204f022, 0x7809700a, 0x1000f88d, 0x1000f89d,
    0x1104f8b0, 0x7140f441, 0x1104f8a0, 0x680148c1, 0x0101f041, 0x4cba6001, 0xf02068e0, 0x60e04040,
    0xf00068e0, 0xf1004040, 0x60e07080, 0xff98f7ff, 0x02082103, 0xff66f7ff, 0xff92f7ff, 0x20002102,
    0xff60f7ff, 0xf0406c20, 0x64204000, 0xf0206c20, 0x1c800003, 0x6ca06420, 0x407ff020, 0x5090f100,
    0x6ca064a0, 0x007ff420, 0x006df500, 0x6ca064a0, 0x407ff420, 0x406ef500, 0x6ca064a0, 0x00fff020,
    0x64a03011, 0xf4406d20, 0x65204080, 0xf4206d20, 0xf5005060, 0x65205080, 0xf4206d20, 0xf50060e0,
    0x65206080, 0xf0406d20, 0x65200040, 0xf0206d20, 0x30100038, 0x6d206520, 0x0007f020, 0x65201d00,
    0xf0206960, 0xf1006070, 0x616060c0, 0xf0206960, 0x304800ff, 0x6c606160, 0x00fff020, 0x6460300e,
    0xf4206be0, 0x63e04040, 0xf4206be0, 0xf5005060, 0x63e05080, 0xf4206be0, 0xf50060e0, 0x63e07080,
    0xf4206ba0, 0x63a04040, 0xf4206ba0, 0xf5005060, 0x63a05080, 0xf4206ba0, 0xf50060e0, 0x63a07080,
    0xf4206b60, 0x63604040, 0xf4206b60, 0xf5005060, 0x63605080, 0xf4206b60, 0xf50060e0, 0x63607080,
    0xf0206b60, 0x63600080, 0xf0206b60, 0x3020007f, 0x20006360, 0x0f17ee08, 0x0fd5ee07, 0x8f4ff3bf,
    0x8f6ff3bf, 0xee072000, 0xf3bf0f15, 0xf3bf8f4f, 0xf04f8f6f, 0xee300b00, 0x465baf30, 0x0143eb03,
    0xf001fa2a, 0x0007f000, 0x28021e80, 0x0058d83a, 0xee40465e, 0xee300f10, 0xf3c22f10, 0xf3c2374e,
    0x1c4901c9, 0x0507f002, 0x1d2d2200, 0x29021c7f, 0xd2034608, 0x1c52e008, 0xb2d20840, 0xd8fa2801,
    0xd00107c8, 0xb2d21c52, 0xd21b2a21, 0x0c20f1c2, 0x1e78e014, 0xfa01d412, 0xfa00f40c, 0xea42f205,
    0x43220243, 0xb12eb11e, 0x2f5aee07, 0xee07e004, 0xe0012f56, 0x2f5eee07, 0xd5ee1e40, 0xd5e81e49,
    0x8f5ff3bf, 0x2b071c5b, 0x2400d3b8, 0x21029807, 0x25019e05, 0xf3649f06, 0xf3640007, 0xf3640607,
    0xf361270f, 0xf364200f, 0xf3644617, 0xf361671f, 0xf3654017, 0xf365661f, 0xf3640707, 0xf364601f,
    0xf364260f, 0x46824717, 0x46314603, 0x463aa803, 0xfdd2f7ff, 0x463a4650, 0xf3654631, 0xf365200f,
    0x46824017, 0xa8044603, 0xfdc6f7ff, 0x661ff364, 0x0707f364, 0x46314653, 0x463aa802, 0xfdbcf7ff,
    0x463a4631, 0x46532004, 0x4217f365, 0x210ff360, 0xf7ffa801, 0x2300fdb1, 0x4619032a, 0xf0004640,
    0x9b02fa27, 0x46402204, 0xf0000751, 0x9b03fa21, 0x4632022e, 0x41a0f04f, 0xf0004640, 0x9b01fa19,
    0x72c0f44f, 0x4168f04f, 0xf0004640, 0x9b01fa11, 0xf04f2280, 0x464051c0, 0xfa0af000, 0xf5089902,
    0xf0415040, 0x210042a0, 0xc0041c49, 0xf50242b1, 0xd3f91280, 0x0048f048, 0x0f10ee02, 0x0000e00c,
    0x1f401000, 0x80020000, 0xfcfe0408, 0x1f003f80, 0xfcfe0000, 0xfcffe980, 0x8f6ff3bf, 0xee032001,
    0xf3bf0f10, 0xee118f6f, 0x49f90f10, 0x49f94008, 0xee014308, 0xf3bf0f10, 0x4bf78f6f, 0x0104f8d3,
    0xd50103c0, 0xe0002010, 0xfa052008, 0x48f3f100, 0x60011e49, 0x420a6802, 0x48f0d1fc, 0x6004384c,
    0x4100f8c3, 0x11fff240, 0x1220f8c3, 0x600c49ec, 0x600c49ec, 0xf8c36004, 0x60045100, 0x444848ea,
    0xb0086005, 0xe8bd2000, 0x49e78df0, 0x44492000, 0x47706008, 0x4df0e92d, 0x0a02f04f, 0x8f30ee30,
    0x469b2300, 0x0143eb03, 0xf001fa28, 0x0007f000, 0x28021e80, 0x0058d836, 0xee404656, 0xee300f10,
    0xf3c22f10, 0xf3c2374e, 0x1c4901c9, 0x0507f002, 0x1d2d2200, 0x29021c7f, 0xd2044608, 0xe008465a,
    0x08401c52, 0x2801b2d2, 0x07c8d8fa, 0x1c52d001, 0x2a21b2d2, 0xf1c2d216, 0xe00f0c20, 0xd40d1e78,
    0xf40cfa01, 0xf205fa00, 0x0243ea42, 0xb1ae4322, 0xd0162e01, 0x2f5eee07, 0xd5f31e40, 0xd5ed1e49,
    0x8f5ff3bf, 0x2b071c5b, 0xf3bfd3bc, 0x48ba8f4f, 0x0104f8d0, 0xd50703c0, 0xe0062010, 0x2f56ee07,
    0xee07e7ea, 0xe7e72f5a, 0x22012008, 0x48b34082, 0x1e523080, 0x68016002, 0xd1fc4211, 0x49af4658,
    0xf8c1394c, 0xee08b000, 0xf3bfbf17, 0xf3bf8f4f, 0xee078f6f, 0xf3bf0f15, 0xf3bf8f4f, 0xe7828f6f,
    0x6c0148aa, 0x4100f041, 0x6c016401, 0x0103f021, 0x64011c89, 0xf4216801, 0xf501417f, 0x600161a0,
    0xf0216801, 0x31fa01ff, 0x21006001, 0x68816041, 0x5180f021, 0x68816081, 0x6100f041, 0x68816081,
    0x61e0f021, 0x6180f101, 0x68816081, 0x0100f421, 0x68816081, 0x01e0f421, 0x1100f501, 0x68816081,
    0x2100f421, 0x68816081, 0x417ff421, 0x6180f501, 0x68816081, 0x01fff021, 0x60811c49, 0x47706e00,
    0x6c01488a, 0x4100f041, 0x6c016401, 0x0103f021, 0x64011c89, 0xf4216801, 0xf501417f, 0x600161c0,
    0xf0216801, 0x31f901ff, 0x68816001, 0x5180f021, 0x68816081, 0x6100f041, 0x68816081, 0x61e0f021,
    0x68816081, 0x0100f421, 0x68816081, 0x01e0f421, 0x1100f501, 0x68816081, 0x2100f421, 0x68816081,
    0x417ff421, 0x68816081, 0x01fff021, 0x21006081, 0x47706581, 0xf7ffb510, 0x486cffc3, 0xf0416c01,
    0x64014100, 0xf0216c01, 0x1c890103, 0x68016401, 0x417ff421, 0x41c0f501, 0x68016001, 0x01fff021,
    0x6001319f, 0xf0216881, 0x60815180, 0xf0416881, 0x60816100, 0xf0216881, 0x608161e0, 0xf4216881,
    0x60810100, 0xf4216881, 0xf50101e0, 0x60811100, 0xf4216881, 0x60812100, 0xf4216881, 0x6081417f,
    0xf0216881, 0x608101ff, 0x65812100, 0xff48f7ff, 0xd1fb07c0, 0xfecef7ff, 0xbd102000, 0x4604b510,
    0xff7ef7ff, 0x6c084949, 0x4000f040, 0x6c086408, 0x0203f020, 0x640a1c92, 0xf4206808, 0xf500407f,
    0x60085004, 0xf0206808, 0x30de00ff, 0x604c6008, 0xf0406888, 0x60885080, 0xf0206888, 0x60886000,
    0xf0206888, 0xf10060e0, 0x60886080, 0xf4406888, 0x60880000, 0xf4206888, 0xf50000e0, 0x60881000,
    0xf4206888, 0x60882000, 0xf4206888, 0x6088407f, 0xf0206888, 0x608800ff, 0x65882000, 0xff00f7ff,
    0xd1fb07c0, 0xfe86f7ff, 0xbd102000, 0x41f0e92d, 0x460d4617, 0xf44f4606, 0xe0207880, 0x42a54644,
    0x462cd800, 0xf5d0b2f0, 0xd0027080, 0xd9004284, 0x2c204604, 0x2420d900, 0xff22f7ff, 0xe0052000,
    0x18315c3a, 0x4180f1a1, 0x1c40700a, 0xd3f742a0, 0xfed6f7ff, 0xd1fb07c0, 0x44261b2d, 0x2d004427,
    0xf7ffd1dc, 0x2000fe57, 0x81f0e8bd, 0x47702000, 0x0d0cb510, 0x0113f36f, 0xeb004319, 0x20000384,
    0xc302e003, 0xf5011c40, 0x42901180, 0xbd10d3f9, 0xeffffffd, 0x20000001, 0x1f003000, 0x1f00377c,
    0x1f003f40, 0x1f003900, 0x00000004, 0x1f401000, 0x00000000, 0x00000000
};

// Start address of flash
static const uint32_t flash_start = 0x50000000;
// Size of flash
static const uint32_t flash_size = 0x01000000;

/**
* List of start and size for each size of flash sector - even indexes are start, odd are size
* The size will apply to all sectors between the listed address and the next address
* in the list.
* The last pair in the list will have sectors starting at that address and ending
* at address flash_start + flash_size.
*/
static const uint32_t sectors_info[] = {
    0x50000000, 0x00001000,
};

static const program_target_t flash = {
    0x800242d7, // Init
    0x800246ab, // UnInit
    0x80024895, // EraseChip
    0x8002491d, // EraseSector
    0x800249ad, // ProgramPage
    0x80024a0d, // Verify

    // BKPT : start of blob + 1
    // RSB  : blob start + header + rw data offset
    // RSP  : stack pointer
    {
        0x80024001,
        0x80024a50,
        0x80024d00
    },

    0x80024000 + 0x00004000,  // mem buffer location
    0x80024000,               // location to write prog_blob in target RAM
    sizeof(rza1xx_flash_prog_blob),   // prog_blob size
    rza1xx_flash_prog_blob,           // address of prog_blob
    0x00001000       // ram_to_flash_bytes_to_be_written
};
